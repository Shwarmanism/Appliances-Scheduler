<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volt Vortex - Appliances</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/dashboard.css">
    <link rel="stylesheet" href="../static/appliances.css">
</head>
<body>
    <input type="checkbox" id="sidebar-toggle" hidden>
    <div class="dashboard-container">
        
        <aside class="sidebar glass">
            <div class="sidebar-top">
                <label for="sidebar-toggle" class="sidebar-hamburger-btn" aria-label="Toggle sidebar">
                    <svg class="hamburger-icon" viewBox="0 0 32 32" width="32" height="32" aria-hidden="true">
                        <rect y="7" width="32" height="3" rx="1.5" fill="#ffdf00" />
                        <rect y="14.5" width="32" height="3" rx="1.5" fill="#ffdf00" />
                        <rect y="22" width="32" height="3" rx="1.5" fill="#ffdf00" />
                    </svg>
                </label>
                <div class="sidebar-logo-block">
                    <div class="sidebar-logo new-logo">âš¡</div>
                    <div class="sidebar-title">VOLT VORTEX</div>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="/dashboard" class="nav-link">
                    <span class="icon"><img src="../static/Home.svg" alt="Dashboard" class="sidebar-icon-svg"></span>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="/appliances" class="nav-link active" aria-current="page">
                    <span class="icon"><img src="../static/Appliances.svg" alt="Appliances" class="sidebar-icon-svg"></span>
                    <span class="nav-text">Appliances</span>
                </a>
                <a href="/optimization" class="nav-link">
                    <span class="icon"><img src="../static/Analytics.svg" alt="Optimization" class="sidebar-icon-svg"></span>
                    <span class="nav-text">Optimization</span>
                </a>
                <a href="/scheduling" class="nav-link">
                    <span class="icon"><img src="../static/Report.svg" alt="Scheduling" class="sidebar-icon-svg"></span>
                    <span class="nav-text">Scheduling</span>
                </a>
                <a href="/analytics" class="nav-link">
                    <span class="icon"><img src="../static/Analytics.svg" alt="Analytics" class="sidebar-icon-svg"></span>
                    <span class="nav-text">Analytics</span>
                </a>
                <a href="/settings" class="nav-link">
                    <span class="icon"><img src="../static/Profile.svg" alt="Settings" class="sidebar-icon-svg"></span>
                    <span class="nav-text">Settings</span>
                </a>
            </nav>
        </aside>
        <main class="appliances-main">
            <div class="appliances-title">Appliances</div>
            <div class="appliance-filter-bar">
                <div class="filter-chip"><span class="filter-dot red"></span> Severe</div>
                <div class="filter-chip"><span class="filter-dot yellow"></span> Medium</div>
                <div class="filter-chip"><span class="filter-dot green"></span> Light</div>
            </div>
            <div class="appliance-list">
                <div class="appliance-card">
                    <input type="checkbox" class="appliance-toggle" name="appliance-status" value="off" onchange="this.value=this.checked?'on':'off'" />
                    <div class="appliance-info">
                        <div class="appliance-title-row">
                            <span class="appliance-title">Television</span>
                            <span class="appliance-status-dot green"></span>
                        </div>
                        <div>Energy: 0.00kWh</div>
                        <div>Time: 00:00:00</div>
                    </div>
                    <div class="appliance-cost">Cost: Php 0.00</div>
                    <button class="delete-appliance-btn" title="Delete">&times;</button>
                </div>
                <div class="appliance-card">
                    <input type="checkbox" class="appliance-toggle" name="appliance-status" value="off" onchange="this.value=this.checked?'on':'off'" />
                    <div class="appliance-info">
                        <div class="appliance-title-row">
                            <span class="appliance-title">Refrigerator</span>
                            <span class="appliance-status-dot yellow"></span>
                        </div>
                        <div>Energy: 0.00kWh</div>
                        <div>Time: 00:00:00</div>
                    </div>
                    <div class="appliance-cost">Cost: Php 0.00</div>
                    <button class="delete-appliance-btn" title="Delete">&times;</button>
                </div>
                <div class="appliance-card">
                    <input type="checkbox" class="appliance-toggle" name="appliance-status" value="off" onchange="this.value=this.checked?'on':'off'" />
                    <div class="appliance-info">
                        <div class="appliance-title-row">
                            <span class="appliance-title">Microwave</span>
                            <span class="appliance-status-dot red"></span>
                        </div>
                        <div>Energy: 0.00kWh</div>
                        <div>Time: 00:00:00</div>
                    </div>
                    <div class="appliance-cost">Cost: Php 0.00</div>
                    <button class="delete-appliance-btn" title="Delete">&times;</button>
                </div>
                <div class="appliance-card">
                    <input type="checkbox" class="appliance-toggle" name="appliance-status" value="off" onchange="this.value=this.checked?'on':'off'" />
                    <div class="appliance-info">
                        <div class="appliance-title-row">
                            <span class="appliance-title">Air Conditioner</span>
                            <span class="appliance-status-dot red"></span>
                        </div>
                        <div>Energy: 0.00kWh</div>
                        <div>Time: 00:00:00</div>
                    </div>
                    <div class="appliance-cost">Cost: Php 0.00</div>
                    <button class="delete-appliance-btn" title="Delete">&times;</button>
                </div>
                <div class="appliance-card">
                    <input type="checkbox" class="appliance-toggle" name="appliance-status" value="off" onchange="this.value=this.checked?'on':'off'" />
                    <div class="appliance-info">
                        <div class="appliance-title-row">
                            <span class="appliance-title">Washing machine</span>
                            <span class="appliance-status-dot green"></span>
                        </div>
                        <div>Energy: 0.00kWh</div>
                        <div>Time: 00:00:00</div>
                    </div>
                    <div class="appliance-cost">Cost: Php 0.00</div>
                    <button class="delete-appliance-btn" title="Delete">&times;</button>
                </div>
                <div class="appliance-card">
                    <input type="checkbox" class="appliance-toggle" name="appliance-status" value="off" onchange="this.value=this.checked?'on':'off'" />
                    <div class="appliance-info">
                        <div class="appliance-title-row">
                            <span class="appliance-title">Electric Kettle</span>
                            <span class="appliance-status-dot yellow"></span>
                        </div>
                        <div>Energy: 0.00kWh</div>
                        <div>Time: 00:00:00</div>
                    </div>
                    <div class="appliance-cost">Cost: Php 0.00</div>
                    <button class="delete-appliance-btn" title="Delete">&times;</button>
                </div>
            </div>
            <div class="add-appliance-row">
                <button class="add-appliance-btn" id="openAddApplianceModal"><span class="plus">+</span> Add New Appliances?</button>
            </div>
        </main>
    </div>
    <!-- Modal for Adding Appliance -->
    <div id="addApplianceModal" class="modal-overlay">
        <div class="modal-content glass">
            <button class="modal-close-btn" id="closeAddApplianceModal">&times;</button>
            <h2>Add Appliance</h2>
            <form id="addApplianceForm">
                <div class="form-group">
                    <label for="appliance-category-filter">Filter by category</label>
                    <select id="appliance-category-filter">
                        <option value="">View All</option>
                 
                    </select>
                </div>
                <div class="form-group">
                    <label for="appliance-select">Appliance</label>
                    <select id="appliance-select" name="appliance-select" required>
                        <option value="">Select an appliance...</option>
                       
                    </select>
                </div>
                <div class="form-group">
                    <label for="appliance-model">Model Name</label>
                    <input type="text" id="appliance-model" name="appliance-model" placeholder="Model (optional)">
                </div>
                <div class="form-group">
                    <label for="appliance-name">Name</label>
                    <input type="text" id="appliance-name" name="appliance-name" readonly style="background:#f3f3f3;color:#888;">
                </div>
                <div class="form-group">
                    <label for="appliance-wattage">Wattage</label>
                    <input type="number" id="appliance-wattage" name="appliance-wattage" readonly style="background:#f3f3f3;color:#888;">
                </div>
                <!-- Hours per Day -->
                <div class="form-group">
                    <div class="slider-card glass">
                        <div class="slider-label">Hours used per day</div>
                        <div class="slider-desc">How long do you operate the appliance daily?</div>
                        <div class="slider-value" id="hoursPerDayValue">1</div>
                    </div>
                    <div class="slider-controls">
                        <button type="button" class="slider-btn" id="hoursMinus">&#8722;</button>
                        <input type="range" id="appliance-hours" name="appliance-hours" min="1" max="24" value="1">
                        <button type="button" class="slider-btn" id="hoursPlus">&#43;</button>
                    </div>
                </div>
                <!-- Days per Week -->
                <div class="form-group" id="daysPerWeekGroup">
                    <label>Days used per week</label>
                    <div class="days-row" id="daysPerWeekRow">
                        <button type="button" class="day-pill" data-day="SU">SU</button>
                        <button type="button" class="day-pill" data-day="M">M</button>
                        <button type="button" class="day-pill" data-day="T">T</button>
                        <button type="button" class="day-pill" data-day="W">W</button>
                        <button type="button" class="day-pill" data-day="TH">TH</button>
                        <button type="button" class="day-pill" data-day="F">F</button>
                        <button type="button" class="day-pill" data-day="S">S</button>
                    </div>
                    <input type="hidden" id="appliance-days" name="appliance-days" value="[]">
                </div>
                <!-- Weeks per Month -->
                <div class="form-group" id="weeksPerMonthGroup">
                    <label>Weeks used per month</label>
                    <div class="weeks-row" id="weeksPerMonthRow">
                        <label class="week-radio"><input type="radio" name="appliance-weeks" value="1"><span>1</span></label>
                        <label class="week-radio"><input type="radio" name="appliance-weeks" value="2"><span>2</span></label>
                        <label class="week-radio"><input type="radio" name="appliance-weeks" value="3"><span>3</span></label>
                        <label class="week-radio"><input type="radio" name="appliance-weeks" value="4"><span>4</span></label>
                    </div>
                </div>
                <button type="submit" class="submit-btn">Add Appliance</button>
            </form>
        </div>
    </div>
    <script>
    // Modal logic
    const openBtn = document.getElementById('openAddApplianceModal');
    const closeBtn = document.getElementById('closeAddApplianceModal');
    const modal = document.getElementById('addApplianceModal');
    openBtn.onclick = () => { modal.style.display = 'flex'; };
    closeBtn.onclick = () => { modal.style.display = 'none'; };
    window.onclick = (e) => { if (e.target === modal) modal.style.display = 'none'; };
  
    const appliances = [
        {category: 'Air Conditioner', type: 'Floor Stand, Non-Inverter', capacity: '2.00 HP', wattage: 1700},
        {category: 'Air Conditioner', type: 'Floor Stand, Non-Inverter', capacity: '3.00 HP', wattage: 2550},
        {category: 'Air Conditioner', type: 'Split Type, Inverter', capacity: '1.00 HP', wattage: 800},
        {category: 'Air Conditioner', type: 'Split Type, Inverter', capacity: '1.50 HP', wattage: 1100},
        {category: 'Air Conditioner', type: 'Split Type, Inverter', capacity: '2.00 HP', wattage: 1450},
        {category: 'Air Conditioner', type: 'Split Type, Inverter', capacity: '2.50 HP', wattage: 1800},
        {category: 'Air Conditioner', type: 'Split Type, Non-Inverter', capacity: '1.00 HP', wattage: 950},
        {category: 'Air Conditioner', type: 'Split Type, Non-Inverter', capacity: '1.50 HP', wattage: 1300},
        {category: 'Air Conditioner', type: 'Split Type, Non-Inverter', capacity: '2.00 HP', wattage: 1600},
        {category: 'Air Conditioner', type: 'Split Type, Non-Inverter', capacity: '2.50 HP', wattage: 2000},
        {category: 'Air Conditioner', type: 'Window Type, Inverter', capacity: '1.00 HP', wattage: 850},
        {category: 'Air Conditioner', type: 'Window Type, Inverter', capacity: '1.50 HP', wattage: 1150},
        {category: 'Air Conditioner', type: 'Window Type, Inverter', capacity: '2.00 HP', wattage: 1500},
        {category: 'Air Conditioner', type: 'Window Type, Non-Inverter', capacity: '0.50 HP', wattage: 500},
        {category: 'Air Conditioner', type: 'Window Type, Non-Inverter', capacity: '0.75 HP', wattage: 650},
        {category: 'Air Conditioner', type: 'Window Type, Non-Inverter', capacity: '1.00 HP', wattage: 900},
        {category: 'Air Conditioner', type: 'Window Type, Non-Inverter', capacity: '1.50 HP', wattage: 1250},
        {category: 'Air Conditioner', type: 'Window Type, Non-Inverter', capacity: '2.00 HP', wattage: 1600},
        {category: 'Cooling', type: 'Air Cooler', capacity: '125 W', wattage: 125},
        {category: 'Cooling', type: 'Air Cooler', capacity: '300 W', wattage: 300},
        {category: 'Cooling', type: 'Electric Fan', capacity: 'Stand, 16"', wattage: 65},
        {category: 'Cooling', type: 'Electric Fan', capacity: 'Desk, 12"', wattage: 50},
        {category: 'Cooling', type: 'Electric Fan', capacity: 'Wall, 16"', wattage: 60},
        {category: 'Cooling', type: 'Electric Fan', capacity: 'Ceiling, 18"', wattage: 75},
        {category: 'Cooling', type: 'Industrial Fan', capacity: '500 W', wattage: 500},
        {category: 'Cooling', type: 'Exhaust Fan', capacity: '12"', wattage: 40},
        {category: 'Laundry', type: 'Washing Machine', capacity: 'Top Load, 6kg', wattage: 400},
        {category: 'Laundry', type: 'Washing Machine', capacity: 'Top Load, 10kg', wattage: 600},
        {category: 'Laundry', type: 'Washing Machine', capacity: 'Front Load, 7kg', wattage: 800},
        {category: 'Laundry', type: 'Washing Machine', capacity: 'Front Load, 11kg, Inverter', wattage: 1000},
        {category: 'Laundry', type: 'Spin Dryer', capacity: 'Single Tub', wattage: 200},
        {category: 'Laundry', type: 'Clothes Dryer', capacity: '5kg', wattage: 1500},
        {category: 'Laundry', type: 'Flat Iron', capacity: 'Dry', wattage: 1000},
        {category: 'Laundry', type: 'Flat Iron', capacity: 'Steam', wattage: 1200},
        {category: 'Kitchen', type: 'Refrigerator', capacity: 'Single Door, 6 cu. ft.', wattage: 120},
        {category: 'Kitchen', type: 'Refrigerator', capacity: 'Two Door, 12 cu. ft., Inverter', wattage: 150},
        {category: 'Kitchen', type: 'Chest Freezer', capacity: '7 cu. ft.', wattage: 180},
        {category: 'Kitchen', type: 'Upright Freezer', capacity: '8 cu. ft.', wattage: 200},
        {category: 'Kitchen', type: 'Rice Cooker', capacity: '0.6L, 300W', wattage: 300},
        {category: 'Kitchen', type: 'Rice Cooker', capacity: '1.0L, 500W', wattage: 500},
        {category: 'Kitchen', type: 'Induction Cooker', capacity: '1200W', wattage: 1200},
        {category: 'Kitchen', type: 'Electric Stove', capacity: '1500W', wattage: 1500},
        {category: 'Kitchen', type: 'Oven Toaster', capacity: '650W', wattage: 650},
        {category: 'Kitchen', type: 'Microwave Oven', capacity: '700W', wattage: 700},
        {category: 'Kitchen', type: 'Electric Kettle', capacity: '1500W', wattage: 1500},
        {category: 'Kitchen', type: 'Blender', capacity: '1.00L, 300W', wattage: 300},
        {category: 'Kitchen', type: 'Coffee Maker', capacity: '600W', wattage: 600},
        {category: 'Kitchen', type: 'Food Processor', capacity: '600W', wattage: 600},
        {category: 'Kitchen', type: 'Water Dispenser', capacity: 'Hot & Cold', wattage: 580},
        {category: 'Kitchen', type: 'Dish Dryer', capacity: '300W', wattage: 300},
        {category: 'Cleaning', type: 'Vacuum Cleaner', capacity: 'Standard', wattage: 600},
        {category: 'Cleaning', type: 'Pressure Washer', capacity: '1000W', wattage: 1000},
        {category: 'Cleaning', type: 'Robot Vacuum', capacity: '30W', wattage: 30},
        {category: 'Lighting', type: 'LED Bulb', capacity: '5W', wattage: 5},
        {category: 'Lighting', type: 'LED Bulb', capacity: '9W', wattage: 9},
        {category: 'Lighting', type: 'LED Bulb', capacity: '12W', wattage: 12},
        {category: 'Lighting', type: 'Fluorescent Lamp', capacity: '18W', wattage: 18},
        {category: 'Lighting', type: 'Incandescent Bulb', capacity: '40W', wattage: 40},
        {category: 'Lighting', type: 'Incandescent Bulb', capacity: '60W', wattage: 60},
        {category: 'Lighting', type: 'Night Light', capacity: '1W', wattage: 1},
        {category: 'Lighting', type: 'Chandelier', capacity: '5 bulbs x 9W', wattage: 45},
        {category: 'Electronics', type: 'Desktop Computer', capacity: 'Standard', wattage: 400},
        {category: 'Electronics', type: 'Laptop', capacity: 'Standard', wattage: 65},
        {category: 'Electronics', type: 'Wi-Fi Router', capacity: 'Standard', wattage: 10},
        {category: 'Electronics', type: 'Mobile Phone Charger', capacity: 'Standard', wattage: 5},
        {category: 'Electronics', type: 'Tablet Charger', capacity: 'Standard', wattage: 10},
        {category: 'Electronics', type: 'Smart TV', capacity: '32"', wattage: 50},
        {category: 'Electronics', type: 'Smart TV', capacity: '55"', wattage: 120},
        {category: 'Electronics', type: 'CRT TV', capacity: '21"', wattage: 90},
        {category: 'Electronics', type: 'Gaming Console', capacity: 'Standard', wattage: 200},
        {category: 'Electronics', type: 'Home Theater', capacity: 'Standard', wattage: 250},
        {category: 'Electronics', type: 'Projector', capacity: 'Standard', wattage: 300},
        {category: 'Wellness', type: 'Air Purifier', capacity: 'Standard', wattage: 50},
        {category: 'Wellness', type: 'Air Purifier with Humidifier', capacity: 'Standard', wattage: 75},
        {category: 'Wellness', type: 'Aroma Diffuser', capacity: 'Standard', wattage: 10},
        {category: 'Wellness', type: 'Electric Blanket', capacity: 'Standard', wattage: 60},
        {category: 'Wellness', type: 'Dehumidifier', capacity: 'Standard', wattage: 300},
        {category: 'Wellness', type: 'Massage Chair', capacity: 'Standard', wattage: 150},
        {category: 'Wellness', type: 'Sleep Sound Machine', capacity: 'Standard', wattage: 10},
    ];
  
    const categoryFilter = document.getElementById('appliance-category-filter');
    const categories = [...new Set(appliances.map(a => a.category))];
    categories.forEach(cat => {
        const opt = document.createElement('option');
        opt.value = cat;
        opt.textContent = cat;
        categoryFilter.appendChild(opt);
    });
  
    function renderApplianceOptions(filterCategory = '') {
        const select = document.getElementById('appliance-select');
        select.innerHTML = '<option value="">Select an appliance...</option>';
        let filtered = appliances;
        if (filterCategory) {
            filtered = filtered.filter(a => a.category === filterCategory);
        }
        filtered.forEach(app => {
            const opt = document.createElement('option');
            opt.value = `${app.category}|${app.type}|${app.capacity}`;
            opt.textContent = app.type + (app.capacity ? ` (${app.capacity})` : "");
            opt.dataset.wattage = app.wattage;
            select.appendChild(opt);
        });
    }
    renderApplianceOptions();

    categoryFilter.addEventListener('change', function() {
        renderApplianceOptions(this.value);
    });
    
    const applianceSelect = document.getElementById('appliance-select');
    applianceSelect.onchange = function() {
        const val = this.value;
        if (!val) {
            document.getElementById('appliance-name').value = "";
            document.getElementById('appliance-wattage').value = "";
            document.getElementById('appliance-name').readOnly = false;
            document.getElementById('appliance-wattage').readOnly = false;
            document.getElementById('appliance-name').style.background = "#fff";
            document.getElementById('appliance-wattage').style.background = "#fff";
            document.getElementById('appliance-name').style.color = "#222";
            document.getElementById('appliance-wattage').style.color = "#222";
            return;
        }
        const [cat, type, capacity] = val.split('|');
        const app = appliances.find(a => a.category === cat && a.type === type && a.capacity === capacity);
        if (app) {
            document.getElementById('appliance-name').value = app.type + (app.capacity ? ` (${app.capacity})` : "");
            document.getElementById('appliance-wattage').value = app.wattage;
            document.getElementById('appliance-name').readOnly = true;
            document.getElementById('appliance-wattage').readOnly = true;
            document.getElementById('appliance-name').style.background = "#f3f3f3";
            document.getElementById('appliance-wattage').style.background = "#f3f3f3";
            document.getElementById('appliance-name').style.color = "#888";
            document.getElementById('appliance-wattage').style.color = "#888";
        }
    };

    // Hours per day slider logic
    const hoursSlider = document.getElementById('appliance-hours');
    const hoursValue = document.getElementById('hoursPerDayValue');
    document.getElementById('hoursMinus').onclick = () => {
        hoursSlider.value = Math.max(1, parseInt(hoursSlider.value) - 1);
        hoursSlider.dispatchEvent(new Event('input'));
    };
    document.getElementById('hoursPlus').onclick = () => {
        hoursSlider.value = Math.min(24, parseInt(hoursSlider.value) + 1);
        hoursSlider.dispatchEvent(new Event('input'));
    };
    hoursSlider.oninput = function() {
        hoursValue.textContent = this.value;
    };

    // Disable days and weeks until hours is set
    const daysGroup = document.getElementById('daysPerWeekGroup');
    const weeksGroup = document.getElementById('weeksPerMonthGroup');
    daysGroup.style.pointerEvents = 'none';
    daysGroup.style.opacity = '0.5';
    weeksGroup.style.pointerEvents = 'none';
    weeksGroup.style.opacity = '0.5';
    function enableDaysWeeks() {
        daysGroup.style.pointerEvents = '';
        daysGroup.style.opacity = '1';
        weeksGroup.style.pointerEvents = '';
        weeksGroup.style.opacity = '1';
    }
    // Enable after hours is changed from default
    hoursSlider.oninput = function() {
        hoursValue.textContent = this.value;
        if (parseInt(this.value) > 0) enableDaysWeeks();
    };

    // Disable weeks until days are selected
    weeksGroup.style.pointerEvents = 'none';
    weeksGroup.style.opacity = '0.5';
    function enableWeeks() {
        weeksGroup.style.pointerEvents = '';
        weeksGroup.style.opacity = '1';
    }
    // Days per week pills logic
    const daysRow = document.getElementById('daysPerWeekRow');
    const daysInput = document.getElementById('appliance-days');
    daysRow.querySelectorAll('.day-pill').forEach(btn => {
        btn.onclick = function() {
            this.classList.toggle('selected');
            const selected = Array.from(daysRow.querySelectorAll('.day-pill.selected')).map(b => b.dataset.day);
            daysInput.value = JSON.stringify(selected);
            if (selected.length > 0) enableWeeks();
            else {
                weeksGroup.style.pointerEvents = 'none';
                weeksGroup.style.opacity = '0.5';
                // Uncheck all week radios
                document.querySelectorAll('input[name="appliance-weeks"]').forEach(r => r.checked = false);
            }
        };
    });
    </script>
</body>
</html> 